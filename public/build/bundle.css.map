{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../index.svelte",
    "../../SvelteTooltip.svelte",
    "../../App.svelte",
    "../../About.svelte",
    "../../Home.svelte",
    "../../Barchart.svelte",
    "../../SGTopic.svelte",
    "../../TextView.svelte",
    "../../Textdemo.svelte"
  ],
  "sourcesContent": [
    "<script>\n  export let size = 25;\n  export let speed = 750;\n  export let color = 'rgba(0,0,0,0.4)';\n  export let thickness = 2;\n  export let gap = 40;\n  export let radius = 10;\n\n  let dash;\n  $: dash = 2 * Math.PI * radius * (100 - gap) / 100\n</script>\n\n<svg\n  height=\"{size}\"\n  width=\"{size}\"\n  style=\"animation-duration:{speed}ms;\"\n  class=\"svelte-spinner\"\n  viewbox=\"0 0 32 32\"\n>\n  <circle\n    role=\"presentation\"\n    cx=\"16\"\n    cy=\"16\"\n    r=\"{radius}\"\n    stroke=\"{color}\"\n    fill=\"none\"\n    stroke-width=\"{thickness}\"\n    stroke-dasharray=\"{dash},100\"\n    stroke-linecap=\"round\"\n  />\n</svg>\n\n<style>\n  .svelte-spinner {\n    transition-property: transform;\n    animation-name: svelte-spinner_infinite-spin;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n  }\n  @keyframes svelte-spinner_infinite-spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n</style>\n",
    "<script>\n  export let tip = '';\n  export let top = false;\n  export let right = false;\n  export let bottom = false;\n  export let left = false;\n  export let active = false;\n  export let color = '#757575';\n\n  let style = `background-color: ${color};`\n\n</script>\n\n<style>\n.tooltip-wrapper {\n  position: relative;\n  display: inline-block;\n}\n\n.tooltip {\n  position: absolute;\n  font-family: inherit;\n  white-space: nowrap;\n  color: inherit;\n  padding: 8px 16px;\n  border-radius: 6px;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 150ms, visibility 150ms;\n}\n\n.tooltip.top {\n  left: 50%;\n  transform: translate(-50%, -100%);\n  margin-top: -8px;\n}\n\n.tooltip.bottom {\n  left: 50%;\n  bottom: 0;\n  transform: translate(-50%, 100%);\n  margin-bottom: -8px;\n}\n\n.tooltip.left {\n  left: 0;\n  transform: translateX(-100%);\n  margin-left: -8px;\n}\n\n.tooltip.right {\n  right: 0;\n  transform: translateX(100%);\n  margin-right: -8px;\n}\n\n.tooltip.active {\n  opacity: 1;\n  visibility: initial;\n}\n\n.tooltip-slot:hover + .tooltip {\n  opacity: 1;\n  visibility: initial;\n}\n\n</style>\n\n<div class=\"tooltip-wrapper\">\n  <span class=\"tooltip-slot\">\n    <slot/>\n  </span>\n  <span\n    class=\"tooltip\" \n    class:active\n    class:left\n    class:right\n    class:bottom\n    class:top\n    style={style}\n  >\n    {tip}\n  </span>\n</div>",
    "<script>\n  import Home from \"./page/Home.svelte\";\n  import About from \"./page/About.svelte\";\n  export let nav = \"home\";\n\n  let class1, class2;\n\n  $: {\n    if (nav) {\n      if (nav === \"home\") {\n        class1 = \"topnav-active\";\n      } else {\n        class1 = \"\";\n      }\n      if (nav === \"about\") {\n        class2 = \"topnav-active\";\n      } else {\n        class2 = \"\";\n      }\n    }\n  }\n</script>\n\n<main>\n  <ul class=\"topnav\">\n    <a href=\"/\" on:click|preventDefault={() => (nav = 'home')} class={class1}>\n      Home\n    </a>\n    <a href=\"/\" on:click|preventDefault={() => (nav = 'about')} class={class2}>\n      About\n    </a>\n  </ul>\n\n  <div>\n    {#if nav === 'home'}\n      <Home />\n    {:else if nav === 'about'}\n      <About />\n    {/if}\n  </div>\n\n</main>\n\n<style>\n  * {\n    margin: 0;\n    padding: 0;\n  }\n\n  main {\n    height: 100%;\n    width: 100%;\n    background-color: #9ac5c5;\n  }\n\n  .topnav {\n    background-color: #008494;\n    overflow: hidden;\n    margin-bottom: 0;\n    border: 0;\n    box-shadow: 0px 3px 5px #006f7d;\n  }\n\n  /* Style the links inside the navigation bar */\n  .topnav a {\n    float: left;\n    color: #f2f2f2;\n    text-align: center;\n    padding: 14px 16px;\n    text-decoration: none;\n    font-family: \"Hind Siliguri\", sans-serif;\n    font-size: 17px;\n  }\n\n  /* Change the color of links on hover */\n  .topnav a:hover {\n    color: rgb(124, 124, 124);\n  }\n\n  /* Add a color to the active/current link */\n  .topnav-active {\n    background-color: #036874;\n    color: white;\n  }\n</style>\n",
    "<script>\n\n</script>\n\n<h1>About</h1>\n\n<style>\nh1 {\n  font-family: 'Acme', sans-serif;\n}\n</style>\n",
    "<script>\n  import SGTopic from \"./component/SGTopic.svelte\";\n  import TextView from \"./component/TextView.svelte\";\n</script>\n\n<div class=\"home\">\n  <div>\n    <SGTopic />\n  </div>\n\n  <div class=\"text-view\">\n    <TextView />\n  </div>\n\n</div>\n\n<style>\n  .text-view {\n    height: 100vh;\n    border: 2px solid white;\n    border-radius: 25px;\n    padding: 40px 40px 40px;\n    margin: 1em 10% 1em;\n    background-color: #01839480;\n  }\n</style>\n",
    "<script>\n  \"use strict\";\n  import { TOPIC_COUNT } from \"./topicCount.js\";\n  import { scaleLinear } from \"d3-scale\";\n  import { Graphic, Rectangle, XAxis, YAxis } from \"@snlab/florence\";\n  import { hoverTopicWrite, clickTopicWrite } from \"./store.js\";\n\n  export let width = 500;\n  export let height = 250;\n\n  const data = TOPIC_COUNT.sort((a, b) => a.n - b.n);\n\n  const scaleX = scaleLinear().domain([0, data.length + 1]);\n  const scaleY = scaleLinear().domain([0, data[data.length - 1].n]);\n\n  let hoverTopic = null;\n  let selectChartKey;\n</script>\n\n<div class=\"bar\">\n  <Graphic {width} {height} {scaleX} {scaleY} padding={30} flipY>\n    <!-- define fill pattern -->\n    <defs>\n      <pattern\n        id=\"pattern-stripe\"\n        width=\"4\"\n        height=\"4\"\n        patternUnits=\"userSpaceOnUse\"\n        patternTransform=\"rotate(45)\">\n        <rect width=\"2\" height=\"4\" transform=\"translate(0,0)\" fill=\"white\" />\n      </pattern>\n    </defs>\n    <!-- create title -->\n    <text x=30 y=30 fill=\"white\" font-family=\"acme\" font-size=\"14pt\">Topic Distribution</text>\n    <!-- create bar -->\n    {#each data as item, index}\n      <Rectangle\n        x1={item.topic - 0.4}\n        y1={0}\n        x2={item.topic + 0.4}\n        y2={item.n}\n        stroke={(selectChartKey !== index) ? 'white' : 'red'}\n        strokeWidth=\"2px\"\n        fill=\"url(#pattern-stripe)\"\n        fillOpacity=\"0.5\"\n        onMouseover={e => {\n          selectChartKey = index;\n          hoverTopic = data[selectChartKey].topic;\n          hoverTopicWrite.set(hoverTopic);\n        }}\n        onMouseout={e => {\n          hoverTopic = 0;\n          hoverTopicWrite.set(hoverTopic);\n          selectChartKey = null;\n        }}\n        onClick={e => {\n          const clickTopic = data[index].topic;\n          clickTopicWrite.set(clickTopic);\n        }} />\n    {/each}\n    <XAxis tickColor=\"white\" baseLineColor=\"white\" labelColor=\"white\" />\n  </Graphic>\n</div>\n\n<style>\n  .bar {\n    border: 2px solid white;\n    border-radius: 25px;\n    margin-top: 40px;\n    padding: 20px;\n    background-color: #01839480;\n  }\n</style>\n",
    "<script>\n  \"use strict\";\n  import BaseMap from \"./BaseMap.svelte\";\n  import TopicMap from \"./TopicMap.svelte\";\n  import WordMap from \"./WordMap.svelte\";\n  import Barchart from \"./Barchart.svelte\";\n  import Beeswarm from \"./Beeswarm.svelte\";\n  import { Graphic, createGeoScales } from \"@snlab/florence\";\n  import DataContainer from \"@snlab/florence-datacontainer\";\n  import { HEX } from \"./hex\";\n  import { clickTopicWrite, clickWordWrite, hoverWordWrite } from \"./store.js\";\n\n  ////// data\n  const hex = new DataContainer(HEX);\n  let clickWord = 0;\n  clickWordWrite.subscribe(val => (clickWord = val));\n  let hoverWord = 0;\n  hoverWordWrite.subscribe(val => (hoverWord = val));\n\n  ////// basemap set up\n  const geoScale = createGeoScales(hex.domain(\"$geometry\"));\n  const width = 700;\n  const height = 700;\n</script>\n\n<!-- base map -->\n<div class=\"grid-2\">\n  <div class=\"basemap\">\n    <Graphic {width} {height} {...geoScale} padding={20} flipY>\n      <BaseMap {hex} />\n      <!-- select layer -->\n\n      {#if clickWord !== 0}\n        <WordMap selectWord={clickWord} {hex} />\n      {:else if hoverWord !== 0}\n        <WordMap selectWord={hoverWord} {hex} />\n      {:else}\n        <TopicMap />\n      {/if}\n    </Graphic>\n    <button\n      on:click={e => {\n        clickTopicWrite.set(0);\n        hoverWordWrite.set(0);\n        clickWordWrite.set(0);\n      }}>\n      Reset Map\n    </button>\n  </div>\n\n  <div class=\"analysis\">\n    <div class=\"bar\">\n      <Barchart />\n    </div>\n    <div class=\"beeswarm\">\n      <Beeswarm />\n    </div>\n  </div>\n</div>\n\n<style>\n  .grid-2 {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 2rem;\n    margin: 1em 10% 1em;\n    justify-items: center;\n  }\n\n  .basemap {\n    border: 2px solid white;\n    border-radius: 25px;\n    padding: 40px;\n    margin-top: 40px;\n    background-color: #01839480;\n  }\n\n  .beeswarm {\n    border: 2px solid white;\n    border-radius: 25px;\n    margin-top: 40px;\n    padding: 20px;\n    background-color: #01839480;\n  }\n</style>\n",
    "<script>\n  \"use strict\";\n  import DataContainer from \"@snlab/florence-datacontainer\";\n  import { clickHexIdWrite, clickWordWrite } from \"./store.js\";\n  import SvelteTooltip from \"svelte-tooltip\";\n  import Textdemo from \"./Textdemo.svelte\";\n  import { db } from \"./firebase.js\";\n  import Spinner from \"svelte-spinner\";\n\n  let selectedHexId = null;\n  clickHexIdWrite.subscribe(value => (selectedHexId = value));\n  let clickWord = null;\n  clickWordWrite.subscribe(value => (clickWord = value));\n\n  // filter data by selectedHex Id\n  let articles = [];\n  const requestFirebase = async hexToCheck => {\n    const data = await db\n      .ref()\n      .orderByChild(\"hex_id\")\n      .equalTo(Number(hexToCheck))\n      .once(\"value\");\n    return data.val();\n  };\n  let res = {};\n\n  $: {\n    if (selectedHexId) {\n      res = requestFirebase(selectedHexId);\n    }\n  }\n\n  let articleText = \"\";\n</script>\n\n<div class=\"card\">\n  {#await res}\n    <p>loading ...</p>\n  {:then value}\n    {#each Object.entries(value) as item}\n      <button class=\"badge\" on:click={() => (articleText = item[1].text)}>\n        {item[1].title}\n      </button>\n    {/each}\n  {:catch error}\n    <p>Cannot find data.</p>\n  {/await}\n\n  {#if articleText !== ''}\n    <Textdemo text={articleText} token={clickWord} />\n  {/if}\n\n</div>\n\n<style>\n  .badge {\n    font-size: 0.8rem;\n    padding: 0.7rem 1rem;\n    text-align: center;\n    margin: 0.3rem;\n    background: #54918d;\n    color: white;\n    border-radius: 5px;\n    font-family: \"Acme\", sans-serif;\n  }\n  .badge:hover {\n    opacity: 0.7;\n  }\n\n  /* Cards */\n  .card {\n    padding: 1rem;\n    margin: 1em 20% 1em;\n  }\n</style>\n",
    "<script>\n  export let text;\n  export let token;\n\n  let reg = new RegExp(\"\", \"gi\");\n  let renderText = text;\n  $: {\n    reg = new RegExp(token + \"[a-z]+\", \"gi\"); //TODO: cannot match some words\n    renderText = text.replace(reg, str => {\n      return (\n        '<span style=\"color:white; background-color: #54918d; >' +\n        str +\n        \"</span>\"\n      );\n    });\n  }\n</script>\n\n<div>\n  <h2 class=\"title\">Token: {token}</h2>\n  <p class=\"content\">\n    {@html renderText}\n  </p>\n</div>\n\n<style>\n  div {\n    width: 80%;\n    margin: 0 auto;\n    margin-bottom: 50px;\n    margin-top: 50px;\n  }\n  h2 {\n    font-family: \"Acme\", sans-serif;\n  }\n\n  p {\n    font-family: \"Hind Siliguri\", sans-serif;\n  }\n</style>\n"
  ],
  "names": [],
  "mappings": "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"
}